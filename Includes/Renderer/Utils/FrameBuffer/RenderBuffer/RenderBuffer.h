//
// Created by wpsimon09 on 05/02/24.
//

#ifndef PABLO_RENDERER_RENDERBUFFER_H
#define PABLO_RENDERER_RENDERBUFFER_H
#include "glad/glad.h"
#include "Renderer/Utils/OGLObject/OGLObject.h"
#include "Debug/DebugLogger.h"

/***
 * Class encapsulating operations on GL_RENDERBUFFER
 */
class RenderBuffer: public OGLObject{
public:

    /***
     * ID of the render buffer generated by OpenGL
     */
    GLuint ID;

    /***
     * Creates render buffer
     * @param SCR_WIDTH width of the render buffer
     * @param SCR_HEIGHT height of the render buffer
     * @note parameters should have same values as frame buffer to which the render buffer belongs to
     */
    RenderBuffer(int SCR_WIDTH, int SCR_HEIGHT);

    /***
     * Binds this frame buffer ID to the GL_RENDERBUFFER target
     */
    void bind() override;

    /***
     * Binds GL_RENDERBUFFER to the default target which is 0
     */
    void unbind() override;

    /***
     * Updates the dimensions of the render buffer
     * @param width new width
     * @param height new height
     */
    void updateDimetions(unsigned int width, unsigned int height);

    void changeAttachment(GLenum atachment,bool hasSubsequentOperations = false);

    GLenum getAttachemnt();
private:
    int width;
    int height;
    GLenum attachment;
};


#endif //PABLO_RENDERER_RENDERBUFFER_H
